\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{styles/style}[2024/01/01 Custom Style Package]

% ---------------------------
% フォント設定
% ---------------------------
\usepackage{lmodern}
\usepackage[T1]{fontenc}

% ---------------------------
% カラー定義
% ---------------------------
\usepackage{xcolor}
\definecolor{primary}{RGB}{33,37,41}
\definecolor{secondary}{RGB}{108,117,125}
\definecolor{accent}{RGB}{0,123,255}
\definecolor{success}{RGB}{40,167,69}
\definecolor{warning}{RGB}{255,193,7}
\definecolor{danger}{RGB}{220,53,69}

\usepackage{fancyhdr}

% ---------------------------
% 章・セクションタイトル
% ---------------------------
\usepackage{titlesec}

% 章タイトルカスタマイズ（章番号とタイトルの間の余白調整）
\titleformat{\chapter}[hang]
  {\normalfont\huge\bfseries\color{primary}} % フォント
  {\chaptertitlename\ \thechapter 章} % 章番号
  {20pt} % 章番号とタイトルの水平距離
  {} % タイトル前の追加コード（空でOK）

% 章タイトルの縦余白（ページ上端との距離・本文までの距離）
\titlespacing*{\chapter}
  {0pt}   % 左マージン
  {0pt}   % 章タイトル上の縦余白
  {10pt}  % 章タイトル下の縦余白（本文までの距離）

\titleformat{\section}
    {\normalfont\Large\bfseries\color{primary}}
    {\thesection}{1em}{}

% ---------------------------
% コードブロック
% ---------------------------
\usepackage{listings}
\lstdefinestyle{mystyle}{
    backgroundcolor=\color{gray!10},
    commentstyle=\color{green!60!black},
    keywordstyle=\color{blue},
    numberstyle=\tiny\color{gray},
    stringstyle=\color{orange},
    basicstyle=\ttfamily\footnotesize,
    breakatwhitespace=false,
    breaklines=true,
    captionpos=b,
    keepspaces=true,
    numbers=left,
    numbersep=5pt,
    showspaces=false,
    showstringspaces=false,
    showtabs=false,
    tabsize=2,
    frame=single,
    rulecolor=\color{gray!30}
}
\lstset{style=mystyle}

% ---------------------------
% 定理環境
% ---------------------------
\usepackage{theorem}
\theoremstyle{definition}
\newtheorem{definition}{定義}[chapter]
\newtheorem{theorem}{定理}[chapter]
\newtheorem{lemma}{補題}[chapter]
\newtheorem{corollary}{系}[chapter]
\newtheorem{example}{例}[chapter]

% ---------------------------
% 便利コマンド
% ---------------------------
\newcommand{\code}[1]{\texttt{#1}}
\newcommand{\file}[1]{\texttt{#1}}
\newcommand{\keyword}[1]{\textbf{#1}}
\newcommand{\emphasis}[1]{\textcolor{accent}{\textbf{#1}}}

% ---------------------------
% 注意書きボックス
% ---------------------------
\usepackage{tcolorbox}
\tcbuselibrary{most}

\newtcolorbox{infobox}{
    colback=blue!5!white,
    colframe=blue!75!black,
    title=情報
}

\newtcolorbox{warningbox}{
    colback=orange!5!white,
    colframe=orange!75!black,
    title=注意
}

\newtcolorbox{dangerbox}{
    colback=red!5!white,
    colframe=red!75!black,
    title=重要
}
