\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{styles/style}[2024/01/01 Custom Style Package]

% フォント設定
\usepackage{lmodern}
\usepackage[T1]{fontenc}

% カラー定義
\definecolor{primary}{RGB}{33, 37, 41}
\definecolor{secondary}{RGB}{108, 117, 125}
\definecolor{accent}{RGB}{0, 123, 255}
\definecolor{success}{RGB}{40, 167, 69}
\definecolor{warning}{RGB}{255, 193, 7}
\definecolor{danger}{RGB}{220, 53, 69}

% ヘッダー・フッターの設定
\usepackage{fancyhdr}
\pagestyle{fancy}
\fancyhf{} % 全部消去
% \fancyfoot[C]{\thepage} % ページ番号をフッター中央
\renewcommand{\headrulewidth}{0pt} % ヘッダーの下線を消す
\renewcommand{\footrulewidth}{0pt} % フッターの線

% ヘッダー余白を狭くする
\setlength{\headheight}{0pt} % ヘッダー高さ
\setlength{\headsep}{-5pt}    % ヘッダーと本文の間隔

% フッター余白を狭くする
\setlength{\footskip}{-10pt}   % フッターと本文の間隔

% 章タイトルのカスタマイズ
\usepackage{titlesec}
% \titleformat{\chapter}[display]
%     {\normalfont\huge\bfseries\color{primary}}
%     {\chaptertitlename\ \thechapter}{20pt}{\Huge}
% \titlespacing*{\chapter}{0pt}{-30pt}{40pt}

% セクションタイトルのカスタマイズ
\titleformat{\section}
    {\normalfont\Large\bfseries\color{primary}}
    {\thesection}{1em}{}

% コードブロックの設定
\usepackage{listings}
\usepackage{xcolor}

\lstdefinestyle{mystyle}{
    backgroundcolor=\color{gray!10},
    commentstyle=\color{green!60!black},
    keywordstyle=\color{blue},
    numberstyle=\tiny\color{gray},
    stringstyle=\color{orange},
    basicstyle=\ttfamily\footnotesize,
    breakatwhitespace=false,
    breaklines=true,
    captionpos=b,
    keepspaces=true,
    numbers=left,
    numbersep=5pt,
    showspaces=false,
    showstringspaces=false,
    showtabs=false,
    tabsize=2,
    frame=single,
    rulecolor=\color{gray!30}
}
\lstset{style=mystyle}

% 数式環境の拡張
\usepackage{theorem}
\theoremstyle{definition}
\newtheorem{definition}{定義}[chapter]
\newtheorem{theorem}{定理}[chapter]
\newtheorem{lemma}{補題}[chapter]
\newtheorem{corollary}{系}[chapter]
\newtheorem{example}{例}[chapter]

% 便利なコマンド定義
\newcommand{\code}[1]{\texttt{#1}}
\newcommand{\file}[1]{\texttt{#1}}
\newcommand{\keyword}[1]{\textbf{#1}}
\newcommand{\emphasis}[1]{\textcolor{accent}{\textbf{#1}}}

% 注意書きボックス
\usepackage{tcolorbox}
\tcbuselibrary{most}

\newtcolorbox{infobox}{
    colback=blue!5!white,
    colframe=blue!75!black,
    title=情報
}

\newtcolorbox{warningbox}{
    colback=orange!5!white,
    colframe=orange!75!black,
    title=注意
}

\newtcolorbox{dangerbox}{
    colback=red!5!white,
    colframe=red!75!black,
    title=重要
}
